<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏´‡∏±‡∏ß‡∏´‡∏ô‡πâ‡∏≤‡∏´‡πâ‡∏≠‡∏á</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <header>
            <h1 class="main-title">üó≥Ô∏è ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏´‡∏±‡∏ß‡∏´‡∏ô‡πâ‡∏≤‡∏´‡πâ‡∏≠‡∏á</h1>
            <div class="user-section">
                <button id="login" class="login-btn">Login with Google</button>
                <p id="user" class="user-info"></p>
            </div>
        </header>

        <!-- Timer Section -->
        <div class="timer-section">
            <div class="timer-controls" id="timerControls">
                <h3>‡∏ï‡∏±‡πâ‡∏á‡πÄ‡∏ß‡∏•‡∏≤‡∏™‡∏¥‡πâ‡∏ô‡∏™‡∏∏‡∏î‡∏Å‡∏≤‡∏£‡πÇ‡∏´‡∏ß‡∏ï</h3>
                
                <!-- Quick Presets -->
                <div class="time-presets">
                    <button class="preset-btn" data-hours="0" data-minutes="1" data-seconds="0">1 ‡∏ô‡∏≤‡∏ó‡∏µ</button>
                    <button class="preset-btn" data-hours="0" data-minutes="5" data-seconds="0">5 ‡∏ô‡∏≤‡∏ó‡∏µ</button>
                    <button class="preset-btn" data-hours="0" data-minutes="10" data-seconds="0">10 ‡∏ô‡∏≤‡∏ó‡∏µ</button>
                    <button class="preset-btn" data-hours="0" data-minutes="30" data-seconds="0">30 ‡∏ô‡∏≤‡∏ó‡∏µ</button>
                    <button class="preset-btn" data-hours="1" data-minutes="0" data-seconds="0">1 ‡∏ä‡∏±‡πà‡∏ß‡πÇ‡∏°‡∏á</button>
                </div>
                
                <div class="time-inputs">
                    <input type="number" id="hours" min="0" max="23" placeholder="‡∏ä‡∏±‡πà‡∏ß‡πÇ‡∏°‡∏á" value="0">
                    <span>:</span>
                    <input type="number" id="minutes" min="0" max="59" placeholder="‡∏ô‡∏≤‡∏ó‡∏µ" value="30">
                    <span>:</span>
                    <input type="number" id="seconds" min="0" max="59" placeholder="‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ" value="0">
                </div>
                <button id="startTimer" class="start-btn">‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏Å‡∏≤‡∏£‡πÇ‡∏´‡∏ß‡∏ï</button>
                
                <!-- VERSION 1413: Candidate Management -->
                <div style="margin-top: 30px; padding-top: 20px; border-top: 2px solid #e0e0e0;" id="candidateManagement">
                    <h3>üìù ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏ú‡∏π‡πâ‡∏™‡∏°‡∏±‡∏Ñ‡∏£</h3>
                    <button id="showAddCandidate" class="add-candidate-btn" style="background: #28a745; width: 100%; margin-top: 10px;">
                        ‚ûï ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏ú‡∏π‡πâ‡∏™‡∏°‡∏±‡∏Ñ‡∏£‡πÉ‡∏´‡∏°‡πà
                    </button>
                </div>
            </div>
            
            <div class="timer-display" id="timerDisplay" style="display: none;">
                <h3>‚è∞ ‡πÄ‡∏ß‡∏•‡∏≤‡∏Ñ‡∏á‡πÄ‡∏´‡∏•‡∏∑‡∏≠</h3>
                <div class="countdown" id="countdown">00:30:00</div>
                <button id="stopTimer" class="stop-btn">‡∏´‡∏¢‡∏∏‡∏î‡∏Å‡∏≤‡∏£‡πÇ‡∏´‡∏ß‡∏ï</button>
            </div>
        </div>

        <!-- VERSION 1413: Add Candidate Modal -->
        <div id="addCandidateModal" class="modal" style="display: none;">
            <div class="modal-content">
                <span class="close">&times;</span>
                <h2>‚ûï ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏ú‡∏π‡πâ‡∏™‡∏°‡∏±‡∏Ñ‡∏£‡πÉ‡∏´‡∏°‡πà</h2>
                
                <div class="form-group">
                    <label>‡∏£‡∏´‡∏±‡∏™‡∏ú‡∏π‡πâ‡∏™‡∏°‡∏±‡∏Ñ‡∏£ (A-Z, ‡πÑ‡∏°‡πà‡∏ã‡πâ‡∏≥):</label>
                    <input type="text" id="newCandidateId" placeholder="‡πÄ‡∏ä‡πà‡∏ô D, E, F" maxlength="3" style="text-transform: uppercase;">
                </div>
                
                <div class="form-group">
                    <label>‡∏ä‡∏∑‡πà‡∏≠:</label>
                    <input type="text" id="newCandidateName" placeholder="‡∏ä‡∏∑‡πà‡∏≠‡∏ú‡∏π‡πâ‡∏™‡∏°‡∏±‡∏Ñ‡∏£">
                </div>
                
                <div class="form-group">
                    <label>‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î:</label>
                    <textarea id="newCandidateDesc" placeholder="‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡∏ú‡∏π‡πâ‡∏™‡∏°‡∏±‡∏Ñ‡∏£" rows="3"></textarea>
                </div>
                
                <div class="form-group">
                    <label>URL ‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û:</label>
                    <input type="text" id="newCandidateImage" placeholder="https://example.com/image.jpg">
                    <small>‡∏ß‡∏≤‡∏á URL ‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û ‡∏´‡∏£‡∏∑‡∏≠‡πÉ‡∏ä‡πâ‡∏£‡∏π‡∏õ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô</small>
                </div>
                
                <div class="form-group" style="margin-top: 20px;">
                    <button id="addCandidateBtn" class="start-btn">‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏ú‡∏π‡πâ‡∏™‡∏°‡∏±‡∏Ñ‡∏£</button>
                    <button id="cancelAddCandidate" class="stop-btn">‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å</button>
                </div>
            </div>
        </div>

        <!-- Voting Status -->
        <div class="status-message" id="status"></div>

        <!-- Results Section (Hidden until voting ends) -->
        <div class="results-section" id="results" style="display: none;">
            <h2>üèÜ ‡∏ú‡∏•‡∏Å‡∏≤‡∏£‡πÇ‡∏´‡∏ß‡∏ï</h2>
            <div id="winner"></div>
            <div id="finalResults"></div>
        </div>

        <!-- VERSION 1413: Dynamic Candidates Section -->
        <div class="candidates-section" id="candidatesSection">
            <!-- Candidates will be loaded dynamically -->
        </div>

        <footer>
            <p>‡∏£‡∏∞‡∏ö‡∏ö‡πÇ‡∏´‡∏ß‡∏ï‡∏≠‡∏≠‡∏ô‡πÑ‡∏•‡∏ô‡πå | VERSION 1413 | ‡∏û‡∏±‡∏í‡∏ô‡∏≤‡∏î‡πâ‡∏ß‡∏¢ Supabase</p>
        </footer>
    </div>

    <script src="https://unpkg.com/@supabase/supabase-js@2"></script>
    <script src="app-fixed.js"></script>
</body>
</html>
